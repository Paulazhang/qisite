<!DOCTYPE html>
<html>
<head>
    <title></title>
    {# 加载相关的css #}
    {% include "www/commoncss.html" %}
    <link rel="stylesheet" href="/static/survey/css/paperEdit.css">
</head>
<body>

{# 顶部的导航栏 #}
{% include "www/navbar.html" with position='paper' %}

{# 页面主体 #}
<div class="container" style="padding-top: 30px;">

    {# 完成按钮 #}
    <a href="{% url 'survey:view.paper.list' %}"
       type="button" class="btn btn-success ">
        <span class="glyphicon glyphicon-ok"></span>
        完成
    </a>
    {# 新增问题按钮 #}
    <button class="btn btn-primary " data-toggle="modal" data-target="#addQuestionDialog">
        <span class="glyphicon glyphicon-plus"></span>
        新增问题
    </button>

    {# 右侧按钮组 #}
    <div class="btn-group pull-right">
        {# 帮助按钮 #}
        <button class="btn btn-default ">
            <span class="glyphicon glyphicon-question-sign"></span>
            帮助
        </button>
        {# 预览按钮 #}
        <button class="btn btn-default ">
            <span class="glyphicon glyphicon-eye-open"></span>
            预览
        </button>
        {# 折叠按钮 #}
        <button id='collapse-all-question-hide' class="btn btn-default">
            <span class="glyphicon glyphicon-collapse-up"></span>
            折叠
        </button>
        {# 展开按钮 #}
        <button id='collapse-all-question-show' class="btn btn-default ">
            <span class="glyphicon glyphicon-collapse-down"></span>
            展开
        </button>
    </div>
    <p></p>

    {# 问卷信息 #}
    <div class="panel panel-default">
        {# panel标题 #}
        <div class="panel-heading">
            <span class="glyphicon glyphicon-list-alt"></span>
            问卷
        </div>
        {# panel内容 #}
        <div class="panel-body">
            <div class="well well-lg">
                {# 问卷的标题 #}
                <div class="row">
                    <div class="col-md-12">
                        <div class="input-group input-group-sm">
                            <span class="input-group-addon">问卷名称</span>
                            <input type="text" class="form-control data-binding-field-text" placeholder="请填写问卷名称"
                                   value="{{ paper.title }}"
                                   data-binding-action="{% url 'survey:service.paper.modify' %}"
                                   data-binding-id="{{ paper.getIdSigned }}"
                                   data-binding-field-name="title">
                        </div>
                    </div>
                </div>
                <p></p>

                {# 问卷的描述 #}
                <div class="row">
                    <div class="col-md-12">
                        <div class="input-group input-group-sm">
                            <span class="input-group-addon">问卷描述</span>
                            <input type="text" class="form-control data-binding-field-text" placeholder="请填写问卷描述"
                                   value="{{ paper.description }}"
                                   data-binding-action="{% url 'survey:service.paper.modify' %}"
                                   data-binding-id="{{ paper.getIdSigned }}"
                                   data-binding-field-name="description">
                        </div>
                    </div>
                </div>
                <p></p>

                <div class="row">
                    {# 标号样式选择 #}
                    <div class="col-md-3">
                        <div class="btn-group btn-block">
                            <button type="button" class="btn btn-default with-popover"
                                    {# 弹出框提示信息 #}
                                    data-placement="bottom"
                                    data-content="这里是提示的内容"
                                    >
                                标号样式
                            </button>
                            <select class="selectpicker data-binding-field-select bootstrap-select-with-popover"
                                    data-width='auto'
                                    value='{{ paper.questionNumStyle }}'
                                    {# 数据绑定信息 #}
                                    data-binding-action="{% url 'survey:service.paper.modify' %}"
                                    data-binding-id="{{ paper.getIdSigned }}"
                                    data-binding-field-name="questionNumStyle"
                                    {# 弹出框提示信息 #}
                                    data-placement="right"
                                    data-content="这里是提示的内容"
                                    >
                                {# 列出可选标号样式数据 #}
                                {% for code,display in  paper.getNumStyleAvailable %}
                                    <option
                                            {% if code == paper.questionNumStyle %}
                                                selected='selected'
                                            {% endif %}
                                                value='{{ code }}'>{{ display }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    {# 分页显示(switch控件) #}
                    <div class="col-md-3">
                        <div class="input-group input-group-sm ">
                            <span class="input-group-addon  with-popover"
                                    {# 弹出框提示信息 #}
                                  data-placement="bottom"
                                  data-content="这里是提示的内容">
                                分页显示
                            </span>
                            <input class="bootstrap-switch-input data-binding-field-switch bootstrap-switch-with-popover"
                                   type="checkbox"
                                   {% if paper.paging %}checked{% endif %}
                                    {# 数据绑定信息 #}
                                   data-binding-action="{% url 'survey:service.paper.modify' %}"
                                   data-binding-id="{{ paper.getIdSigned }}"
                                   data-binding-field-name="paging"
                                    {# 弹出框提示信息 #}
                                   data-placement="bottom"
                                   data-content="这里是提示的内容"/>
                        </div>
                    </div>

                    {# 顺序答题(switch控件) #}
                    <div class="col-md-3">
                        <div class="input-group input-group-sm">
                            <span class="input-group-addon">顺序答题</span>
                            <input class="bootstrap-switch-input data-binding-field-switch" type="checkbox"
                                   {% if paper.inOrder %}checked{% endif %}
                                   data-binding-action="{% url 'survey:service.paper.modify' %}"
                                   data-binding-id="{{ paper.getIdSigned }}"
                                   data-binding-field-name="inOrder"/>
                        </div>
                    </div>

                    {# 返回修改(switch控件) #}
                    <div class="col-md-3 ">
                        <div class="input-group input-group-sm">
                            <span class="input-group-addon">返回修改</span>
                            <input class="bootstrap-switch-input data-binding-field-switch" type="checkbox"
                                   {% if paper.lookBack %}checked{% endif %}
                                   data-binding-action="{% url 'survey:service.paper.modify' %}"
                                   data-binding-id="{{ paper.getIdSigned }}"
                                   data-binding-field-name="lookBack"/>
                        </div>
                    </div>
                </div>
                {# <div class="row"> #}
                <p></p>
            </div>
            {# end <div class="well well-lg"> #}
        </div>
        {# end <div class="panel-body"> #}
    </div>
    {# end panel #}

    {# 问题内容框 #}
    <div class="well" id="questionBox">
        {% for question in paper.getQuestionSetInOrder %}
            {% include "survey/question/question.html" with question=question only %}
        {% endfor %}
    </div>
    <p></p>

    {# 新增问题的按钮 #}
    <div class="row">
        <div class="col-md-2 col-md-offset-5">
            <button id="addQuestionButton" class="btn btn-primary btn-block " data-toggle="modal"
                    data-target="#addQuestionDialog">
                <span class="glyphicon glyphicon-plus"></span>
                新增问题
            </button>
        </div>
    </div>
</div>


{# end <div class="container"> #}

{# 问题新增对话框 #}
<div class="modal fade" id="addQuestionDialog" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            {# 对话框标题 #}
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="myModalLabel">
                    <span class="glyphicon glyphicon-plus"></span> 新增问题
                </h4>
            </div>
            {# 对话框内容 #}
            <div class="modal-body">
                <div class="row" align="center">
                    <div class="col-md-3">
                        <button id="addSingleButton"
                                class="btn btn-default btn-block btn-lg btn-paper-add-question"
                                data-binding-action="{% url 'survey:service.question.addDefaultSingleQuestion' %}"
                                data-binding-paper-id="{{ paper.getIdSigned }}">
                            <span class="glyphicon glyphicon-check"></span>
                            单选题
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-default btn-block btn-lg btn-paper-add-question">
                            <span class="glyphicon glyphicon-th-list"></span>
                            多选题
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-default btn-block btn-lg btn-paper-add-question">
                            <span class="glyphicon glyphicon-pencil"></span>
                            填空题
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-default btn-block btn-lg btn-paper-add-question">
                            <span class="glyphicon glyphicon-star"></span>
                            评分题
                        </button>
                    </div>
                </div>
            </div>
            {# 对话框底部 #}
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>


{# 问题删除对话框 #}
<div class="modal fade" id="questionDeleteConfirmDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            {# 对话框标题栏 #}
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">
                    <span class="glyphicon glyphicon-exclamation-sign"></span> 请确认
                </h4>
            </div>
            {# 对话框内容 #}
            <div class="modal-body" align="center">
                <h4>
                    <span class="glyphicon glyphicon-remove-circle"></span>
                    您确定要删除这个问题吗?
                </h4>
            </div>
            {# 对话框底部 #}
            <div class="modal-footer">
                <div class='row' align="center">
                    <div class="col-md-3"></div>
                    <div class="col-md-3">
                        <button id='questionDeleteConfirmButton' type="button" class="btn btn-danger btn-block">确定
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button type="button" class="btn btn-default btn-block" data-dismiss="modal">取消</button>
                    </div>
                    <div class="col-md-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

{# 选项删除对话框 #}
<div class="modal fade" id="branchDeleteConfirmDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            {# 对话框标题栏 #}
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">
                    <span class="glyphicon glyphicon-exclamation-sign"></span> 请确认
                </h4>
            </div>
            {# 对话框内容 #}
            <div class="modal-body" align="center">
                <h4>
                    <span class="glyphicon glyphicon-remove-circle"></span>
                    您确定要删除这个选项吗?
                </h4>
            </div>
            {# 对话框底部 #}
            <div class="modal-footer">
                <div class='row' align="center">
                    <div class="col-md-3"></div>
                    <div class="col-md-3">
                        <button id='branchDeleteConfirmButton' type="button" class="btn btn-danger btn-block">确定
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button type="button" class="btn btn-default btn-block" data-dismiss="modal">取消</button>
                    </div>
                    <div class="col-md-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<select id='test-select-id' class="selectpicker test-select-class" data-style="btn-primary">
</select>

{# 加载Javascript程序 #}

{% include "www/commonjs.html" %}
<script src="/static/survey/js/paperEdit.js"></script>


</body>
</html>